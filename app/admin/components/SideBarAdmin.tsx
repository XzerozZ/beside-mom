"use client";

import { it } from "node:test";
import { useState } from "react";

interface MenuItem {
  id: number;
  label: string;
  icon?: string;
}
interface SidebarProps {
  onItemSelect: (id: string) => void;
  selectedItem: string;
}

const Sidebar: React.FC<SidebarProps> = ({ onItemSelect, selectedItem }) => {
  const [activeMenu, setActiveMenu] = useState(selectedItem);
  const [isDropdownOpen, setIsDropdownOpen] = useState(false);
  const profileImageUrl =
    "https://th.bing.com/th/id/OIP.GKAbRpYzDlJa139WC8xPtwHaIC?rs=1&pid=ImgDetMain";

  const menuItems: MenuItem[] = [
    { id: 1, label: "ข้อมูลคุณแม่" },
    { id: 2, label: "ข้อมูลเรื่องเล่าจากคุณแม่" },
    { id: 3, label: "ข้อมูลการดูแลทารก" },
    { id: 4, label: "ข้อมูลคำถามที่พบบ่อย" },
    { id: 5, label: "ข้อมูลติดต่อกับพยาบาล" },
  ];

  return (
    <div className="w-64 bg-white  h-screen">
      {/* Profile Section */}
      <div className="p-6 border-b">
        <div className="flex flex-row items-center">
          <div className="w-9 h-9 rounded-full overflow-hidden">
            <img
              src={profileImageUrl}
              alt="Profile"
              className="w-full h-full object-cover"
            />
          </div>
          <h2 className=" ml-2 text-xl text-black ">Admin Name</h2>
        </div>
      </div>

      {/* Menu Items */}
      <nav className="">
        {menuItems.map((item) => (
          <div key={item.id} className="w-full ">
            <div className="relative flex row">
              <button
                onClick={() => {
                  setActiveMenu(item.id.toString());
                  onItemSelect(item.id.toString());
                }}
                className={`w-full h-12 my- text-left flex flex-row items-center ${
                  activeMenu === item.id.toString()
                    ? "text-primary5 font-bold"
                    : "text-neutral05"
                } hover:bg-gray-100 transition-colors`}
              >
                <div
                  className={`w-1 h-full ${
                    activeMenu === item.id.toString()
                      ? "bg-primary5"
                      : "bg-transparent"
                  }`}
                ></div>

                {item.id === 1 && (
                  <div className="ml-3">
                    <svg
                      className={`w-6 h-6 transition-all ${
                        activeMenu === item.id.toString()
                          ? "text-[#B36868]"
                          : "text-neutral04"
                      }`}
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M7.5 2C8.03043 2 8.53914 2.21071 8.91421 2.58579C9.28929 2.96086 9.5 3.46957 9.5 4C9.5 4.53043 9.28929 5.03914 8.91421 5.41421C8.53914 5.78929 8.03043 6 7.5 6C6.96957 6 6.46086 5.78929 6.08579 5.41421C5.71071 5.03914 5.5 4.53043 5.5 4C5.5 3.46957 5.71071 2.96086 6.08579 2.58579C6.46086 2.21071 6.96957 2 7.5 2ZM6 22V16H3L5.6 8.4C5.9 7.6 6.6 7 7.5 7C8.4 7 9.2 7.6 9.4 8.4L12 16H9V22H6ZM14.5 12C14.5 11.4696 14.7107 10.9609 15.0858 10.5858C15.4609 10.2107 15.9696 10 16.5 10C17.0304 10 17.5391 10.2107 17.9142 10.5858C18.2893 10.9609 18.5 11.4696 18.5 12C18.5 12.5304 18.2893 13.0391 17.9142 13.4142C17.5391 13.7893 17.0304 14 16.5 14C15.9696 14 15.4609 13.7893 15.0858 13.4142C14.7107 13.0391 14.5 12.5304 14.5 12ZM13.5 15H19.5V19H18V22H15V19H13.5V15Z"
                        fill="currentColor"
                      />
                    </svg>
                  </div>
                )}
                {item.id === 2 && (
                  <div className="ml-3">
                    <svg
                      className={`w-6 h-6 transition-all ${
                        activeMenu === item.id.toString()
                          ? "text-[#B36868]"
                          : "text-neutral04"
                      }`}
                      viewBox="0 0 20 20"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <g clipPath="url(#clip0_598_2693)">
                        <path
                          fillRule="evenodd"
                          clipRule="evenodd"
                          d="M20 0V20H0V0H20ZM10.4942 19.3817L10.485 19.3833L10.4258 19.4125L10.4092 19.4158L10.3975 19.4125L10.3383 19.3833C10.3294 19.3806 10.3228 19.3819 10.3183 19.3875L10.315 19.3958L10.3008 19.7525L10.305 19.7692L10.3133 19.78L10.4 19.8417L10.4125 19.845L10.4225 19.8417L10.5092 19.78L10.5192 19.7667L10.5225 19.7525L10.5083 19.3967C10.5061 19.3878 10.5014 19.3828 10.4942 19.3817ZM10.715 19.2875L10.7042 19.2892L10.55 19.3667L10.5417 19.375L10.5392 19.3842L10.5542 19.7425L10.5583 19.7525L10.565 19.7583L10.7325 19.8358C10.7431 19.8386 10.7511 19.8364 10.7567 19.8292L10.76 19.8175L10.7317 19.3058C10.7289 19.2953 10.7233 19.2892 10.715 19.2875ZM10.1192 19.2892C10.1155 19.2869 10.1111 19.2862 10.1069 19.2871C10.1027 19.2881 10.0991 19.2906 10.0967 19.2942L10.0917 19.3058L10.0633 19.8175C10.0639 19.8275 10.0686 19.8342 10.0775 19.8375L10.09 19.8358L10.2575 19.7583L10.2658 19.7517L10.2692 19.7425L10.2833 19.3842L10.2808 19.3742L10.2725 19.3658L10.1192 19.2892Z"
                          fill="white"
                        />
                        <path
                          fillRule="evenodd"
                          clipRule="evenodd"
                          d="M3.33341 2.5C2.89139 2.5 2.46746 2.67559 2.1549 2.98816C1.84234 3.30072 1.66675 3.72464 1.66675 4.16667V15.8333C1.66675 16.2754 1.84234 16.6993 2.1549 17.0118C2.46746 17.3244 2.89139 17.5 3.33341 17.5H16.6667C17.1088 17.5 17.5327 17.3244 17.8453 17.0118C18.1578 16.6993 18.3334 16.2754 18.3334 15.8333V4.16667C18.3334 3.72464 18.1578 3.30072 17.8453 2.98816C17.5327 2.67559 17.1088 2.5 16.6667 2.5H3.33341ZM7.18758 7.19167C7.20607 7.03235 7.26155 6.87956 7.34957 6.74548C7.4376 6.61141 7.55575 6.49977 7.69458 6.41946C7.83342 6.33915 7.9891 6.29241 8.14921 6.28295C8.30932 6.2735 8.46943 6.30159 8.61675 6.365C9.03675 6.545 9.92341 6.95 11.0467 7.59833C11.8362 8.04953 12.5986 8.54649 13.3301 9.08667C13.4587 9.18236 13.5631 9.3068 13.6351 9.45004C13.7071 9.59328 13.7445 9.75136 13.7445 9.91167C13.7445 10.072 13.7071 10.2301 13.6351 10.3733C13.5631 10.5165 13.4587 10.641 13.3301 10.7367C12.5986 11.2763 11.8362 11.7727 11.0467 12.2233C10.2615 12.682 9.45012 13.0944 8.61675 13.4583C8.46944 13.5219 8.3093 13.5502 8.14912 13.5408C7.98895 13.5314 7.83319 13.4847 7.6943 13.4044C7.55541 13.324 7.43725 13.2123 7.34927 13.0781C7.26128 12.944 7.20591 12.7911 7.18758 12.6317C7.08759 11.7285 7.03863 10.8204 7.04092 9.91167C7.04092 8.61917 7.13425 7.64583 7.18758 7.19167Z"
                          fill="currentColor"
                        />
                      </g>
                      <defs>
                        <clipPath id="clip0_598_2693">
                          <rect width="20" height="20" fill="white" />
                        </clipPath>
                      </defs>
                    </svg>
                  </div>
                )}
                {item.id === 3 && (
                  <div className="ml-3">
                    <svg
                      className={`w-6 h-6 transition-all ${
                        activeMenu === item.id.toString()
                          ? "text-[#B36868]"
                          : "text-neutral04"
                      }`}
                      viewBox="0 0 20 20"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M5.55545 18.9733H14.4447C16.1776 18.9733 17.0397 18.0944 17.0397 16.3533V8.75293H10.9794C9.90795 8.75293 9.40581 8.24221 9.40581 7.17078V1.02686H5.55545C3.83116 1.02686 2.96045 1.914 2.96045 3.65543V16.3533C2.96045 18.1026 3.83116 18.9733 5.55545 18.9733ZM11.0047 7.60614H16.9476C16.889 7.26293 16.6462 6.92793 16.2529 6.51793L11.6322 1.82221C11.2472 1.42043 10.8958 1.17757 10.544 1.11864V7.15436C10.544 7.45543 10.7033 7.60614 11.0047 7.60614ZM6.77759 12.3776C6.43438 12.3776 6.19152 12.1347 6.19152 11.8083C6.19152 11.4815 6.43438 11.239 6.77724 11.239H13.2308C13.5658 11.239 13.8254 11.4819 13.8254 11.8079C13.8254 12.1347 13.5658 12.3772 13.2312 12.3772L6.77759 12.3776ZM6.77759 15.5665C6.43438 15.5665 6.19152 15.3236 6.19152 14.9972C6.19152 14.6708 6.43438 14.4279 6.77724 14.4279H13.2308C13.5658 14.4279 13.8254 14.6708 13.8254 14.9972C13.8254 15.3236 13.5658 15.5665 13.2312 15.5665H6.77759Z"
                        fill="currentColor"
                      />
                    </svg>
                  </div>
                )}
                {item.id === 4 && (
                  <div className="ml-3">
                    <svg
                      className={`w-6 h-6 transition-all ${
                        activeMenu === item.id.toString()
                          ? "text-[#B36868]"
                          : "text-neutral04"
                      }`}
                      viewBox="0 0 20 20"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M10 1.875C8.39303 1.875 6.82214 2.35152 5.486 3.24431C4.14985 4.1371 3.10844 5.40605 2.49348 6.8907C1.87852 8.37535 1.71762 10.009 2.03112 11.5851C2.34463 13.1612 3.11846 14.6089 4.25476 15.7452C5.39106 16.8815 6.8388 17.6554 8.4149 17.9689C9.99099 18.2824 11.6247 18.1215 13.1093 17.5065C14.594 16.8916 15.8629 15.8502 16.7557 14.514C17.6485 13.1779 18.125 11.607 18.125 10C18.1227 7.84581 17.266 5.78051 15.7427 4.25727C14.2195 2.73403 12.1542 1.87727 10 1.875ZM10 15C9.81458 15 9.63333 14.945 9.47916 14.842C9.32499 14.739 9.20482 14.5926 9.13387 14.4213C9.06291 14.25 9.04434 14.0615 9.08052 13.8796C9.11669 13.6977 9.20598 13.5307 9.33709 13.3996C9.4682 13.2685 9.63525 13.1792 9.81711 13.143C9.99896 13.1068 10.1875 13.1254 10.3588 13.1964C10.5301 13.2673 10.6765 13.3875 10.7795 13.5417C10.8825 13.6958 10.9375 13.8771 10.9375 14.0625C10.9375 14.3111 10.8387 14.5496 10.6629 14.7254C10.4871 14.9012 10.2486 15 10 15ZM10.625 11.1938V11.25C10.625 11.4158 10.5592 11.5747 10.4419 11.6919C10.3247 11.8092 10.1658 11.875 10 11.875C9.83424 11.875 9.67527 11.8092 9.55806 11.6919C9.44085 11.5747 9.375 11.4158 9.375 11.25V10.625C9.375 10.4592 9.44085 10.3003 9.55806 10.1831C9.67527 10.0658 9.83424 10 10 10C11.0336 10 11.875 9.29688 11.875 8.4375C11.875 7.57812 11.0336 6.875 10 6.875C8.96641 6.875 8.125 7.57812 8.125 8.4375V8.75C8.125 8.91576 8.05916 9.07473 7.94195 9.19194C7.82474 9.30915 7.66576 9.375 7.5 9.375C7.33424 9.375 7.17527 9.30915 7.05806 9.19194C6.94085 9.07473 6.875 8.91576 6.875 8.75V8.4375C6.875 6.88672 8.27657 5.625 10 5.625C11.7234 5.625 13.125 6.88672 13.125 8.4375C13.125 9.79531 12.05 10.932 10.625 11.1938Z"
                        fill="currentColor"
                      />
                    </svg>
                  </div>
                )}
                {item.id === 5 && (
                  <div className="ml-3">
                    <svg
                      className={`w-6 h-6 transition-all ${
                        activeMenu === item.id.toString()
                          ? "text-[#B36868]"
                          : "text-neutral04"
                      }`}
                      viewBox="0 0 18 20"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <g clipPath="url(#clip0_597_2667)">
                        <path
                          d="M12.477 12.4999L8.75 16.2261L5.02305 12.4999C2.23047 12.621 0 14.9062 0 17.7261C0 18.3291 0.239563 18.9075 0.665989 19.3339C1.09241 19.7604 1.67077 19.9999 2.27383 19.9999H15.2262C15.8292 19.9999 16.4076 19.7604 16.834 19.3339C17.2604 18.9075 17.5 18.3291 17.5 17.7261C17.5 14.9062 15.2695 12.621 12.477 12.4999ZM8.75 11.8749C10.0761 11.8749 11.3479 11.3481 12.2855 10.4105C13.2232 9.47277 13.75 8.201 13.75 6.87492V2.57101C13.7503 2.31633 13.6728 2.06762 13.5279 1.85819C13.383 1.64876 13.1775 1.4886 12.9391 1.39914L9.62773 0.158905C9.06182 -0.0532939 8.43818 -0.0532939 7.87227 0.158905L4.56094 1.4007C4.32273 1.49007 4.11746 1.64999 3.97256 1.85911C3.82765 2.06824 3.75001 2.31659 3.75 2.57101V6.87492C3.75 8.201 4.27678 9.47277 5.21447 10.4105C6.15215 11.3481 7.42392 11.8749 8.75 11.8749ZM7.1875 2.79953C7.1875 2.74773 7.20808 2.69805 7.24471 2.66142C7.28133 2.6248 7.33101 2.60422 7.38281 2.60422H8.2293V1.75773C8.2293 1.70593 8.24987 1.65625 8.2865 1.61963C8.32313 1.583 8.37281 1.56242 8.42461 1.56242H9.07539C9.12719 1.56242 9.17687 1.583 9.2135 1.61963C9.25013 1.65625 9.2707 1.70593 9.2707 1.75773V2.60422H10.1172C10.169 2.60422 10.2187 2.6248 10.2553 2.66142C10.2919 2.69805 10.3125 2.74773 10.3125 2.79953V3.45031C10.3125 3.50211 10.2919 3.55179 10.2553 3.58842C10.2187 3.62505 10.169 3.64562 10.1172 3.64562H9.2707V4.49211C9.2707 4.54391 9.25013 4.59359 9.2135 4.63022C9.17687 4.66684 9.12719 4.68742 9.07539 4.68742H8.42461C8.37281 4.68742 8.32313 4.66684 8.2865 4.63022C8.24987 4.59359 8.2293 4.54391 8.2293 4.49211V3.64562H7.38281C7.33101 3.64562 7.28133 3.62505 7.24471 3.58842C7.20808 3.55179 7.1875 3.50211 7.1875 3.45031V2.79953ZM5.625 6.24992H11.875V6.87492C11.875 7.70372 11.5458 8.49858 10.9597 9.08463C10.3737 9.67068 9.5788 9.99992 8.75 9.99992C7.9212 9.99992 7.12634 9.67068 6.54029 9.08463C5.95424 8.49858 5.625 7.70372 5.625 6.87492V6.24992Z"
                          fill="currentColor"
                        />
                      </g>
                      <defs>
                        <clipPath id="clip0_597_2667">
                          <rect width="17.5" height="20" fill="white" />
                        </clipPath>
                      </defs>
                    </svg>
                  </div>
                )}
                <span className="ml-2">{item.label}</span>
              </button>
            </div>
          </div>
        ))}
        <div className="absolute bottom-4 w-full">
          <button
            onClick={() => {
              /* Add logout logic here */
            }}
            className="flex items-center w-64 px-6 py-4 text-neutral05 hover:bg-gray-100 transition-colors"
          >
            <svg
              width="21"
              height="20"
              viewBox="0 0 21 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M5.5 1.66675C4.83696 1.66675 4.20107 1.93014 3.73223 2.39898C3.26339 2.86782 3 3.50371 3 4.16675V15.8334C3 16.4965 3.26339 17.1323 3.73223 17.6012C4.20107 18.07 4.83696 18.3334 5.5 18.3334H10.5C11.163 18.3334 11.7989 18.07 12.2678 17.6012C12.7366 17.1323 13 16.4965 13 15.8334V4.16675C13 3.50371 12.7366 2.86782 12.2678 2.39898C11.7989 1.93014 11.163 1.66675 10.5 1.66675H5.5ZM14.0775 6.07758C14.2338 5.92136 14.4457 5.83359 14.6667 5.83359C14.8876 5.83359 15.0996 5.92136 15.2558 6.07758L18.5892 9.41091C18.7454 9.56719 18.8332 9.77911 18.8332 10.0001C18.8332 10.2211 18.7454 10.433 18.5892 10.5892L15.2558 13.9226C15.0987 14.0744 14.8882 14.1584 14.6697 14.1565C14.4512 14.1546 14.2422 14.0669 14.0877 13.9124C13.9331 13.7579 13.8455 13.5489 13.8436 13.3304C13.8417 13.1119 13.9257 12.9014 14.0775 12.7442L15.9883 10.8334H8.83333C8.61232 10.8334 8.40036 10.7456 8.24408 10.5893C8.0878 10.4331 8 10.2211 8 10.0001C8 9.77907 8.0878 9.56711 8.24408 9.41083C8.40036 9.25455 8.61232 9.16675 8.83333 9.16675H15.9883L14.0775 7.25591C13.9213 7.09964 13.8335 6.88772 13.8335 6.66675C13.8335 6.44578 13.9213 6.23385 14.0775 6.07758Z"
                fill="#999999"
              />
            </svg>
            <span className="ml-2">ออกจากระบบ</span>
          </button>
        </div>
      </nav>
    </div>
  );
};

export default Sidebar;
